[package]
name = "lightning-service-executor"
version.workspace = true
edition.workspace = true

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
lightning-interfaces = { path = "../interfaces" }
lightning-schema = { path = "../schema" }
fn-sdk = { path = "../../lib/sdk" }
infusion.workspace = true
fleek-crypto.workspace = true
tokio.workspace = true
anyhow.workspace = true
serde.workspace = true
tracing.workspace = true
triomphe = "0.1.9"
dashmap = "5.5"
fxhash = "0.2"
resolved-pathbuf.workspace = true
affair.workspace = true
futures.workspace = true
panic-report.workspace = true
which = "5.0.0"

# io stress dependencies
bytes.workspace = true
arrayref = "0.3.7"
bincode = "1.3.3"

# Built-in services
fleek-service-fetcher = { path = "../../services/fetcher", optional = true }
fleek-service-js-poc = { path = "../../services/js-poc", optional = true }
fleek-service-ai = { path = "../../services/ai", optional = true }

[features]
default = []
services = [ "dep:fleek-service-fetcher", "dep:fleek-service-js-poc", "dep:fleek-service-ai"]

[dev-dependencies]
lightning-fetcher = { path = "../fetcher" }
lightning-origin-demuxer = { path = "../origin-demuxer" }
lightning-origin-ipfs = { path = "../origin-ipfs" }
lightning-broadcast = { path="../broadcast" }
lightning-blockstore = { path = "../blockstore" }
lightning-blockstore-server = { path = "../blockstore-server" }
lightning-signer = {path="../signer"}
lightning-resolver = { path = "../resolver" }
lightning-application = { path="../application", features = ["test"] }
lightning-pool = { path = "../pool" }
lightning-notifier = {path="../notifier"}
lightning-topology = {path="../topology"}
lightning-test-utils = { path="../test-utils" }
lightning-rep-collector = {path="../rep-collector"}
hp-fixed.workspace = true
serial_test = "3.0.0"
